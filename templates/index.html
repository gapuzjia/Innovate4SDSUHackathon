<div id="club-card">
    <h2>{{ clubs[0]['name'] }}</h2>
    <p>{{ clubs[0]['description'] }}</p>
    <button onclick="swipe('right')">Interested</button>
    <button onclick="swipe('left')">Not Interested</button>
  </div>
  <script>
    let current = 0;
    let clubs = {{ clubs|tojson }};
  
    function swipe(direction) {
      const clubId = clubs[current].name;
  
      fetch('/swipe', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ club_id: clubId, direction: direction })
      }).then(() => {
        current++;
        if (current < clubs.length) {
          updateClubCard();
        } else {
          window.location.href = "/saved";  // ⬅️ redirect when done
        }
      });
    }
  
    function updateClubCard() {
      const card = document.getElementById("club-card");
      card.querySelector("h2").textContent = clubs[current].name;
      card.querySelector("p").textContent = clubs[current].description;
    }
  </script>
  
  